<!doctype html><html lang=zh-cn>
<head><meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="‰ªãÁªç LVM Logical Volume Manager
LVMÊòØLinuxÁéØÂ¢É‰∏ãÂØπÁ£ÅÁõòÂàÜÂå∫ËøõË°åÁÆ°ÁêÜÁöÑ‰∏ÄÁßçÊú∫Âà∂ÔºåLVMÊòØÂª∫Á´ãÂú®Á°¨ÁõòÂíåÂàÜÂå∫‰πã‰∏äÁöÑ‰∏Ä‰∏™ÈÄªËæëÂ±ÇÔºåÊù•ÊèêÈ´òÁ£ÅÁõòÂàÜÂå∫ÁÆ°ÁêÜÁöÑÁÅµÊ¥ªÊÄß„ÄÇ
ËÉΩËß£ÂÜ≥Âì™‰∫õÈóÆÈ¢ò  Âú®Á∫øÈÄöËøáÂ¢ûÂä†ÊàñÂáèÂ∞ëÁâ©ÁêÜÂç∑ÁªÑÊîπÂèòÈÄªËæëÂç∑ÁªÑÁöÑÂ§ßÂ∞è Âú®Â∞èÂûãÁ≥ªÁªü‰∏äÔºåÊØîÂ¶Ç‰∏™‰∫∫ÁîµËÑëÔºå‰∏çÂøÖÂú®ÂÆâË£ÖÁ≥ªÁªüÁöÑÊó∂ÂÄôË¥πËÑëÁ≠ã‰º∞ÁÆóÂàÜÂå∫ÁöÑÂ§ßÂ∞èÔºålvm‰∏ä‰ª•ÂêéÂèØ‰ª•ÊåâÈúÄÊ±ÇËΩªÊòìË∞ÉÊï¥ÂàÜÂå∫ÁöÑÂ§ßÂ∞è„ÄÇ ËÉΩÂ§üÂØπÈÄªËæëÂàÜÂå∫ÂÆûÁé∞‰∏ÄËá¥ÊÄßÂ§á‰ªΩ ÂèØ‰ª•Âú®Â§ö‰∏™Áâ©ÁêÜÂç∑ÊàñËÄÖÊï¥‰∏™Á°¨Áõò‰∏äÂàõÂª∫Âçï‰∏™ÂàÜÂå∫ÔºåÊúâÁÇπÂÉèRAID 0, ‰ΩÜÊõ¥ÂÉèJBOD, ÂÖÅËÆ∏Âä®ÊÄÅË∞ÉÊï¥Âç∑ÁöÑÂ§ßÂ∞è„ÄÇ  ÂàõÂª∫LVM Â¶ÇÊûúË¶ÅÂú®/dev/sda3, /dev/sda4, /dev/sda5‰∏äÂàõÂª∫lvm
ÂàõÂª∫Áâ©ÁêÜÂç∑
pvcreate /dev/sda{3..5}  ÂàõÂª∫‰∏∫Âç∑ÁªÑ
vgcreate test0 /dev/sda{3..5}  Âú®Âç∑ÁªÑtest0‰∏äÂàõÂª∫10GÁöÑÈÄªËæëÂç∑ lv_0
lvcreate -L 10G -n lv_0 test0  ÂàõÂª∫Êñá‰ª∂Á≥ªÁªüÂπ∂ÊåÇËΩΩ
mkfs.ext4 /dev/test0/lv_0  Êâ©ÂÆπ ÈúÄÊ±ÇÔºö Â∞ÜÁâ©ÁêÜÂç∑/dev/sda6 Âä†ÂÖ•lvmÂπ∂Êâ©Â§ß‰∏∫20G
ÂàõÂª∫Áâ©ÁêÜÂç∑
pvcreate /dev/sda6  Ê∑ªÂä†Âà∞Âç∑ÁªÑtest0
vgextend test0 /dev/sda6  Êâ©Â±ïÈÄªËæëÂç∑, Êâ©Â±ïÂà∞20G
lvextend -L 20G /dev/test0/lv_0  ‰ΩøÂ¢ûÂä†ÁöÑÂÆπÈáèÁîüÊïà
resize2fs /dev/test0/lv_0  ÊêûÂÆö
ÂáèÂÆπ ÈúÄÊ±ÇÔºö Â∞ÜÈÄªËæëÂç∑ÂáèÂ∞èÊàê10G"><title>lvmÁ¨îËÆ∞</title>
<link rel=canonical href=https://zhw.in/post/lvm%E7%AC%94%E8%AE%B0/>
<link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="lvmÁ¨îËÆ∞">
<meta property="og:description" content="‰ªãÁªç LVM Logical Volume Manager
LVMÊòØLinuxÁéØÂ¢É‰∏ãÂØπÁ£ÅÁõòÂàÜÂå∫ËøõË°åÁÆ°ÁêÜÁöÑ‰∏ÄÁßçÊú∫Âà∂ÔºåLVMÊòØÂª∫Á´ãÂú®Á°¨ÁõòÂíåÂàÜÂå∫‰πã‰∏äÁöÑ‰∏Ä‰∏™ÈÄªËæëÂ±ÇÔºåÊù•ÊèêÈ´òÁ£ÅÁõòÂàÜÂå∫ÁÆ°ÁêÜÁöÑÁÅµÊ¥ªÊÄß„ÄÇ
ËÉΩËß£ÂÜ≥Âì™‰∫õÈóÆÈ¢ò  Âú®Á∫øÈÄöËøáÂ¢ûÂä†ÊàñÂáèÂ∞ëÁâ©ÁêÜÂç∑ÁªÑÊîπÂèòÈÄªËæëÂç∑ÁªÑÁöÑÂ§ßÂ∞è Âú®Â∞èÂûãÁ≥ªÁªü‰∏äÔºåÊØîÂ¶Ç‰∏™‰∫∫ÁîµËÑëÔºå‰∏çÂøÖÂú®ÂÆâË£ÖÁ≥ªÁªüÁöÑÊó∂ÂÄôË¥πËÑëÁ≠ã‰º∞ÁÆóÂàÜÂå∫ÁöÑÂ§ßÂ∞èÔºålvm‰∏ä‰ª•ÂêéÂèØ‰ª•ÊåâÈúÄÊ±ÇËΩªÊòìË∞ÉÊï¥ÂàÜÂå∫ÁöÑÂ§ßÂ∞è„ÄÇ ËÉΩÂ§üÂØπÈÄªËæëÂàÜÂå∫ÂÆûÁé∞‰∏ÄËá¥ÊÄßÂ§á‰ªΩ ÂèØ‰ª•Âú®Â§ö‰∏™Áâ©ÁêÜÂç∑ÊàñËÄÖÊï¥‰∏™Á°¨Áõò‰∏äÂàõÂª∫Âçï‰∏™ÂàÜÂå∫ÔºåÊúâÁÇπÂÉèRAID 0, ‰ΩÜÊõ¥ÂÉèJBOD, ÂÖÅËÆ∏Âä®ÊÄÅË∞ÉÊï¥Âç∑ÁöÑÂ§ßÂ∞è„ÄÇ  ÂàõÂª∫LVM Â¶ÇÊûúË¶ÅÂú®/dev/sda3, /dev/sda4, /dev/sda5‰∏äÂàõÂª∫lvm
ÂàõÂª∫Áâ©ÁêÜÂç∑
pvcreate /dev/sda{3..5}  ÂàõÂª∫‰∏∫Âç∑ÁªÑ
vgcreate test0 /dev/sda{3..5}  Âú®Âç∑ÁªÑtest0‰∏äÂàõÂª∫10GÁöÑÈÄªËæëÂç∑ lv_0
lvcreate -L 10G -n lv_0 test0  ÂàõÂª∫Êñá‰ª∂Á≥ªÁªüÂπ∂ÊåÇËΩΩ
mkfs.ext4 /dev/test0/lv_0  Êâ©ÂÆπ ÈúÄÊ±ÇÔºö Â∞ÜÁâ©ÁêÜÂç∑/dev/sda6 Âä†ÂÖ•lvmÂπ∂Êâ©Â§ß‰∏∫20G
ÂàõÂª∫Áâ©ÁêÜÂç∑
pvcreate /dev/sda6  Ê∑ªÂä†Âà∞Âç∑ÁªÑtest0
vgextend test0 /dev/sda6  Êâ©Â±ïÈÄªËæëÂç∑, Êâ©Â±ïÂà∞20G
lvextend -L 20G /dev/test0/lv_0  ‰ΩøÂ¢ûÂä†ÁöÑÂÆπÈáèÁîüÊïà
resize2fs /dev/test0/lv_0  ÊêûÂÆö
ÂáèÂÆπ ÈúÄÊ±ÇÔºö Â∞ÜÈÄªËæëÂç∑ÂáèÂ∞èÊàê10G">
<meta property="og:url" content="https://zhw.in/post/lvm%E7%AC%94%E8%AE%B0/">
<meta property="og:site_name" content="zhwei's Blog">
<meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="Notes"><meta property="article:published_time" content="2013-12-13T00:00:00+00:00"><meta property="article:modified_time" content="2013-12-13T00:00:00+00:00">
<meta name=twitter:site content="@zhwei_">
<meta name=twitter:creator content="@zhwei_"><meta name=twitter:title content="lvmÁ¨îËÆ∞">
<meta name=twitter:description content="‰ªãÁªç LVM Logical Volume Manager
LVMÊòØLinuxÁéØÂ¢É‰∏ãÂØπÁ£ÅÁõòÂàÜÂå∫ËøõË°åÁÆ°ÁêÜÁöÑ‰∏ÄÁßçÊú∫Âà∂ÔºåLVMÊòØÂª∫Á´ãÂú®Á°¨ÁõòÂíåÂàÜÂå∫‰πã‰∏äÁöÑ‰∏Ä‰∏™ÈÄªËæëÂ±ÇÔºåÊù•ÊèêÈ´òÁ£ÅÁõòÂàÜÂå∫ÁÆ°ÁêÜÁöÑÁÅµÊ¥ªÊÄß„ÄÇ
ËÉΩËß£ÂÜ≥Âì™‰∫õÈóÆÈ¢ò  Âú®Á∫øÈÄöËøáÂ¢ûÂä†ÊàñÂáèÂ∞ëÁâ©ÁêÜÂç∑ÁªÑÊîπÂèòÈÄªËæëÂç∑ÁªÑÁöÑÂ§ßÂ∞è Âú®Â∞èÂûãÁ≥ªÁªü‰∏äÔºåÊØîÂ¶Ç‰∏™‰∫∫ÁîµËÑëÔºå‰∏çÂøÖÂú®ÂÆâË£ÖÁ≥ªÁªüÁöÑÊó∂ÂÄôË¥πËÑëÁ≠ã‰º∞ÁÆóÂàÜÂå∫ÁöÑÂ§ßÂ∞èÔºålvm‰∏ä‰ª•ÂêéÂèØ‰ª•ÊåâÈúÄÊ±ÇËΩªÊòìË∞ÉÊï¥ÂàÜÂå∫ÁöÑÂ§ßÂ∞è„ÄÇ ËÉΩÂ§üÂØπÈÄªËæëÂàÜÂå∫ÂÆûÁé∞‰∏ÄËá¥ÊÄßÂ§á‰ªΩ ÂèØ‰ª•Âú®Â§ö‰∏™Áâ©ÁêÜÂç∑ÊàñËÄÖÊï¥‰∏™Á°¨Áõò‰∏äÂàõÂª∫Âçï‰∏™ÂàÜÂå∫ÔºåÊúâÁÇπÂÉèRAID 0, ‰ΩÜÊõ¥ÂÉèJBOD, ÂÖÅËÆ∏Âä®ÊÄÅË∞ÉÊï¥Âç∑ÁöÑÂ§ßÂ∞è„ÄÇ  ÂàõÂª∫LVM Â¶ÇÊûúË¶ÅÂú®/dev/sda3, /dev/sda4, /dev/sda5‰∏äÂàõÂª∫lvm
ÂàõÂª∫Áâ©ÁêÜÂç∑
pvcreate /dev/sda{3..5}  ÂàõÂª∫‰∏∫Âç∑ÁªÑ
vgcreate test0 /dev/sda{3..5}  Âú®Âç∑ÁªÑtest0‰∏äÂàõÂª∫10GÁöÑÈÄªËæëÂç∑ lv_0
lvcreate -L 10G -n lv_0 test0  ÂàõÂª∫Êñá‰ª∂Á≥ªÁªüÂπ∂ÊåÇËΩΩ
mkfs.ext4 /dev/test0/lv_0  Êâ©ÂÆπ ÈúÄÊ±ÇÔºö Â∞ÜÁâ©ÁêÜÂç∑/dev/sda6 Âä†ÂÖ•lvmÂπ∂Êâ©Â§ß‰∏∫20G
ÂàõÂª∫Áâ©ÁêÜÂç∑
pvcreate /dev/sda6  Ê∑ªÂä†Âà∞Âç∑ÁªÑtest0
vgextend test0 /dev/sda6  Êâ©Â±ïÈÄªËæëÂç∑, Êâ©Â±ïÂà∞20G
lvextend -L 20G /dev/test0/lv_0  ‰ΩøÂ¢ûÂä†ÁöÑÂÆπÈáèÁîüÊïà
resize2fs /dev/test0/lv_0  ÊêûÂÆö
ÂáèÂÆπ ÈúÄÊ±ÇÔºö Â∞ÜÈÄªËæëÂç∑ÂáèÂ∞èÊàê10G">
<link rel="shortcut icon" href=/images/favicon.ico>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-189071452-1','auto'),ga('send','pageview'))</script>
</head>
<body class=article-page>
<script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.documentElement.dataset.scheme='dark':document.documentElement.dataset.scheme='light'})()</script>
<div class="container main-container flex
on-phone--column extended">
<aside class="sidebar left-sidebar sticky">
<button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box>
<span class=hamburger-inner></span>
</span>
</button>
<header class=site-info>
<figure class=site-avatar>
<img src=/img/avatar_hua214120a4d200677a7520b2605f86182_99547_300x0_resize_box_3.png width=300 height=282 class=site-logo loading=lazy alt=Avatar>
<span class=emoji>üè†</span>
</figure>
<h1 class=site-name><a href=/>zhwei's Blog</a></h1>
<h2 class=site-description>Be Your Personal Best</h2><ol class=social-menu>
<li>
<a href=https://github.com/zhwei target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg>
</a>
</li>
<li>
<a href=https://twitter.com/zhwei_ target=_blank title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg>
</a>
</li>
</ol></header>
<ol class=menu id=main-menu>
<li>
<a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span>
</a>
</li>
<li>
<a href=/about><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span>
</a>
</li>
<li>
<a href=/archives><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span>
</a>
</li>
<li>
<a href=/search><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span>
</a>
</li>
<li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span>
</li>
</ol>
</aside>
<main class="main full-width">
<article class=main-article>
<header class=article-header>
<div class=article-details>
<h2 class=article-title>
<a href=/post/lvm%E7%AC%94%E8%AE%B0/>lvmÁ¨îËÆ∞</a>
</h2>
<footer class=article-time>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2013-12-13</time>
</div>
<div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>
2 minute read
</time>
</div>
</footer>
</div>
</header>
<section class=article-content>
<h1 id=‰ªãÁªç>‰ªãÁªç</h1>
<p>LVM Logical Volume Manager</p>
<p>LVMÊòØLinuxÁéØÂ¢É‰∏ãÂØπÁ£ÅÁõòÂàÜÂå∫ËøõË°åÁÆ°ÁêÜÁöÑ‰∏ÄÁßçÊú∫Âà∂ÔºåLVMÊòØÂª∫Á´ãÂú®Á°¨ÁõòÂíåÂàÜÂå∫‰πã‰∏äÁöÑ‰∏Ä‰∏™ÈÄªËæëÂ±ÇÔºåÊù•ÊèêÈ´òÁ£ÅÁõòÂàÜÂå∫ÁÆ°ÁêÜÁöÑÁÅµÊ¥ªÊÄß„ÄÇ</p>
<h1 id=ËÉΩËß£ÂÜ≥Âì™‰∫õÈóÆÈ¢ò>ËÉΩËß£ÂÜ≥Âì™‰∫õÈóÆÈ¢ò</h1>
<ul>
<li>Âú®Á∫øÈÄöËøáÂ¢ûÂä†ÊàñÂáèÂ∞ëÁâ©ÁêÜÂç∑ÁªÑÊîπÂèòÈÄªËæëÂç∑ÁªÑÁöÑÂ§ßÂ∞è</li>
<li>Âú®Â∞èÂûãÁ≥ªÁªü‰∏äÔºåÊØîÂ¶Ç‰∏™‰∫∫ÁîµËÑëÔºå‰∏çÂøÖÂú®ÂÆâË£ÖÁ≥ªÁªüÁöÑÊó∂ÂÄôË¥πËÑëÁ≠ã‰º∞ÁÆóÂàÜÂå∫ÁöÑÂ§ßÂ∞èÔºålvm‰∏ä‰ª•ÂêéÂèØ‰ª•ÊåâÈúÄÊ±ÇËΩªÊòìË∞ÉÊï¥ÂàÜÂå∫ÁöÑÂ§ßÂ∞è„ÄÇ</li>
<li>ËÉΩÂ§üÂØπÈÄªËæëÂàÜÂå∫ÂÆûÁé∞‰∏ÄËá¥ÊÄßÂ§á‰ªΩ</li>
<li>ÂèØ‰ª•Âú®Â§ö‰∏™Áâ©ÁêÜÂç∑ÊàñËÄÖÊï¥‰∏™Á°¨Áõò‰∏äÂàõÂª∫Âçï‰∏™ÂàÜÂå∫ÔºåÊúâÁÇπÂÉèRAID 0, ‰ΩÜÊõ¥ÂÉèJBOD, ÂÖÅËÆ∏Âä®ÊÄÅË∞ÉÊï¥Âç∑ÁöÑÂ§ßÂ∞è„ÄÇ</li>
</ul>
<h1 id=ÂàõÂª∫lvm>ÂàõÂª∫LVM</h1>
<p>Â¶ÇÊûúË¶ÅÂú®/dev/sda3, /dev/sda4, /dev/sda5‰∏äÂàõÂª∫lvm</p>
<p>ÂàõÂª∫Áâ©ÁêÜÂç∑</p>
<pre><code>pvcreate /dev/sda{3..5}
</code></pre>
<p>ÂàõÂª∫‰∏∫Âç∑ÁªÑ</p>
<pre><code>vgcreate test0 /dev/sda{3..5}
</code></pre>
<p>Âú®Âç∑ÁªÑtest0‰∏äÂàõÂª∫10GÁöÑÈÄªËæëÂç∑ lv_0</p>
<pre><code>lvcreate -L 10G -n lv_0 test0
</code></pre>
<p>ÂàõÂª∫Êñá‰ª∂Á≥ªÁªüÂπ∂ÊåÇËΩΩ</p>
<pre><code>mkfs.ext4 /dev/test0/lv_0
</code></pre>
<h1 id=Êâ©ÂÆπ>Êâ©ÂÆπ</h1>
<p>ÈúÄÊ±ÇÔºö Â∞ÜÁâ©ÁêÜÂç∑/dev/sda6 Âä†ÂÖ•lvmÂπ∂Êâ©Â§ß‰∏∫20G</p>
<p>ÂàõÂª∫Áâ©ÁêÜÂç∑</p>
<pre><code>pvcreate /dev/sda6
</code></pre>
<p>Ê∑ªÂä†Âà∞Âç∑ÁªÑtest0</p>
<pre><code>vgextend test0 /dev/sda6
</code></pre>
<p>Êâ©Â±ïÈÄªËæëÂç∑, Êâ©Â±ïÂà∞20G</p>
<pre><code>lvextend -L 20G /dev/test0/lv_0
</code></pre>
<p>‰ΩøÂ¢ûÂä†ÁöÑÂÆπÈáèÁîüÊïà</p>
<pre><code>resize2fs /dev/test0/lv_0
</code></pre>
<p>ÊêûÂÆö</p>
<h1 id=ÂáèÂÆπ>ÂáèÂÆπ</h1>
<p>ÈúÄÊ±ÇÔºö Â∞ÜÈÄªËæëÂç∑ÂáèÂ∞èÊàê10G</p>
<p>ÂÖàÂ∞ÜËØ•ÂàÜÂå∫Âç∏ËΩΩ</p>
<pre><code>umount /data
</code></pre>
<p>Ê£ÄÊü•ÈÄªËæëÂç∑</p>
<pre><code>e2fsck -f /dev/test0/lv_0
</code></pre>
<p>Ë∞ÉÊï¥Êñá‰ª∂Á≥ªÁªüÂ§ßÂ∞è</p>
<pre><code>resize2fs /dev/test0/lv_0 10G
</code></pre>
<p>ÂØπÈÄªËæëÂç∑ËøõË°åË∞ÉÊï¥</p>
<pre><code>lvreduce /dev/test0/lv_0 10G
</code></pre>
<h1 id=Âà†Èô§lvm>Âà†Èô§lvm</h1>
<pre><code>lvremove /dev/test0/lv_0

vgremove /dev/test0

pvremove /dev/sda{3..5}
</code></pre>
<p>#Êõ¥Â§öÁî®Ê≥ï</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash>
    $ sudo lvm

    lvm&gt;<span class=p>;</span> <span class=nb>help</span>
      Available lvm commands:
      Use <span class=s1>&#39;lvm help &#39;</span> <span class=k>for</span> more information

      dumpconfig      Dump active configuration
      formats         List available metadata formats
      <span class=nb>help</span>            Display <span class=nb>help</span> <span class=k>for</span> commands
      lvchange        Change the attributes of logical volume<span class=o>(</span>s<span class=o>)</span>
      lvconvert       Change logical volume layout
      lvcreate        Create a logical volume
      lvdisplay       Display information about a logical volume
      lvextend        Add space to a logical volume
      lvmchange       With the device mapper, this is obsolete and does nothing.
      lvmdiskscan     List devices that may be used as physical volumes
      lvmsadc         Collect activity data
      lvmsar          Create activity report
      lvreduce        Reduce the size of a logical volume
      lvremove        Remove logical volume<span class=o>(</span>s<span class=o>)</span> from the system
      lvrename        Rename a logical volume
      lvresize        Resize a logical volume
      lvs             Display information about logical volumes
      lvscan          List all logical volumes in all volume groups
      pvchange        Change attributes of physical volume<span class=o>(</span>s<span class=o>)</span>
      pvresize        Resize physical volume<span class=o>(</span>s<span class=o>)</span>
      pvck            Check the consistency of physical volume<span class=o>(</span>s<span class=o>)</span>
      pvcreate        Initialize physical volume<span class=o>(</span>s<span class=o>)</span> <span class=k>for</span> use by LVM
      pvdata          Display the on-disk metadata <span class=k>for</span> physical volume<span class=o>(</span>s<span class=o>)</span>
      pvdisplay       Display various attributes of physical volume<span class=o>(</span>s<span class=o>)</span>
      pvmove          Move extents from one physical volume to another
      pvremove        Remove LVM label<span class=o>(</span>s<span class=o>)</span> from physical volume<span class=o>(</span>s<span class=o>)</span>
      pvs             Display information about physical volumes
      pvscan          List all physical volumes
      segtypes        List available segment types
      vgcfgbackup     Backup volume group configuration<span class=o>(</span>s<span class=o>)</span>
      vgcfgrestore    Restore volume group configuration
      vgchange        Change volume group attributes
      vgck            Check the consistency of volume group<span class=o>(</span>s<span class=o>)</span>
      vgconvert       Change volume group metadata format
      vgcreate        Create a volume group
      vgdisplay       Display volume group information
      vgexport        Unregister volume group<span class=o>(</span>s<span class=o>)</span> from the system
      vgextend        Add physical volumes to a volume group
      vgimport        Register exported volume group with system
      vgmerge         Merge volume groups
      vgmknodes       Create the special files <span class=k>for</span> volume group devices in /dev
      vgreduce        Remove physical volume<span class=o>(</span>s<span class=o>)</span> from a volume group
      vgremove        Remove volume group<span class=o>(</span>s<span class=o>)</span>
      vgrename        Rename a volume group
      vgs             Display information about volume groups
      vgscan          Search <span class=k>for</span> all volume groups
      vgsplit         Move physical volumes into a new or existing volume group
      version         Display software and driver version information
</code></pre></div>
</section>
<footer class=article-footer>
<section class=article-tags>
<a href=/tags/notes/>Notes</a>
</section>
<section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span>
</section>
</footer>
</article>
<aside class=related-contents--wrapper>
</aside>
<script src=https://utteranc.es/client.js repo=zhwei/zhwei.github.com issue-term=title label=Comment crossorigin=anonymous async></script>
<style>.utterances{max-width:unset}</style>
<script>function setUtterancesTheme(b){let a=document.querySelector('.utterances iframe');a&&a.contentWindow.postMessage({type:'set-theme',theme:`github-${b}`},'https://utteranc.es')}addEventListener('message',a=>{if(a.origin!=='https://utteranc.es')return;setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener('onColorSchemeChange',a=>{setUtterancesTheme(a.detail)})</script>
<footer class=site-footer>
<section class=copyright>
&copy;
2012 -
2024 zhwei's Blog
</section>
<section class=powerby>
Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> <br>
Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.4.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a>
</section>
</footer>
<div class=pswp tabindex=-1 role=dialog aria-hidden=true>
<div class=pswp__bg></div>
<div class=pswp__scroll-wrap>
<div class=pswp__container>
<div class=pswp__item></div>
<div class=pswp__item></div>
<div class=pswp__item></div>
</div>
<div class="pswp__ui pswp__ui--hidden">
<div class=pswp__top-bar>
<div class=pswp__counter></div>
<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
<div class=pswp__preloader>
<div class=pswp__preloader__icn>
<div class=pswp__preloader__cut>
<div class=pswp__preloader__donut></div>
</div>
</div>
</div>
</div>
<div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
<div class=pswp__share-tooltip></div>
</div>
<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
</button>
<div class=pswp__caption>
<div class=pswp__caption__center></div>
</div>
</div>
</div>
</div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous>
</main>
</div>
<script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script>
</body>
</html>